# Основные принципы управления данными и файловые системы

## Подходы к физической организации файлов
Непрерывное размещение – блоки файла идут друг за другом, от начала до конца файла. Недостаток – фрагментация.

Связанный список блоков – каждый блок содержит ссылку на следующий, отсутствует фрагментация данных, но появляются проблемы производительности.

Связный список индексов – по сравнение с предыдущим способо появляется возможность быстрого доступа к произвольному месту файла. Блоки связаны с индексами, которые располагаются в отдельной области диска. Каждый индекс содержит указатель на следующий блок. Так, можно получить доступ к произвольному блоку прочитав лишь блок с индексами.

## Основные принципы управления данными
Файловые системы хранятся на дисках. На дисках может быть несколько разделов с независимыми ФС. Существует 2 вида структуры дисковых разделов: MBR и GTP. Они определяют следующее:
* структура, в которой будут хранится данные на диске
* начало и конец разделов
* код, используемый для загрузочного раздела

MBR - Master Boot Record - сектор номер 0, использующийся для загрузки компьютера. MBR содержит в себе таблицу разделов, один из которых помечен как активный. При старте компьютер находит активный раздел, считывает и выполняет его первый блок. 

### Разграничение прав доступа
В обобщенном случае можно определить права доступа к файлам системы пользователями в виде таблици, где каждый столбец - файл, каждая стрлка – пользователь.

В UNIX подобных системах существует команда chmod, при помощи которой можно изменить степень доступности файла. Эти права описывают уровень доступа сразу для 3 категорий пользователей:
- владелец файла
- пользователи из группы, в которой находится владелец файла
- другие пользователи
  
В символьном виде права варьируются от "---" до "rwx". В двоичном виде - от 000 до 111.


## файловые системы
Файловая система определяет способ хранения, чтения, структурирования данных на физических носителях информации. Также ФС определяет формат самого файла и способ его хранения, максимальные размеры файла.
Можно сказать что ФС является конкретной реализацие интерфейса доступа к файлам на запоминающем устройстве.

Журналируемая файловая система – ФС в которой ведется журнал (лог) всех вносимых изменений. Перед фактическим внесением изменений на диск, сначала вносятся изменения в журнал. Могут вестись изменения только метаданных или метаданных + самих данных. Такая прослойка позволяет не проводить проверки целостности ФС, и снизить риски потери данных в связи с проблемами в ФС. Аналогичная концепция применяется в СУБД, например в PostgreSQL ведется журнал предзаписи, сохраняющий описание вносимых изменений в файл-блок перед неспосредственным внесением изменений. Таким образом, в случае аварии, ОС сможет прочесть журнал и корректно исполнить запланированные манипуляции. Примеры журналируемых ФС - NTFS, ext3. 

<!-- На верхнем уровне располагается так называемый переключатель файловых систем. Он обеспечивает интерфейс между запросами приложения и конкретной файловой системой, к которой обращается это приложение. Переключатель файловых систем преобразует запросы в формат, воспринимаемый следующим уровнем - уровнем файловых систем.
Каждый компонент уровня файловых систем выполнен в виде драйвера соответствующей файловой системы и поддерживает определенную организацию файловой системы. -->

&nbsp;

Источник:
- https://ru.bmstu.wiki/Файловая_система

&nbsp;
<hr>

> [Список вопросов](Вопросы_ТПП.md)